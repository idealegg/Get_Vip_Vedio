var MdparseTools={Status:{isMobile:false,isIos:false,isAndroid:false,videoContaierId:'a1'},Init:function(){MdparseTools.Status.isMobile=navigator.userAgent.match(/iPad|iPhone|Android|Linux|iPod/i)!=null;MdparseTools.Status.isIos=navigator.userAgent.match(/iPad|iPhone|iPod/i)!=null;MdparseTools.Status.isAndroid=navigator.userAgent.match(/Android|Linux/i)!=null},P2P:{ShowP2PInfo:function(){$('<div style="position:fixed;left:0px;top:0px;z-index:2;font-size: 12px;" id="divP2P">P2P加速准备中</div>').appendTo($('body'));var p2p=null;setInterval(function(){if(p2p!=null){var info=peer5.getStats();var peers=info.numOfPeers;var upSpeed=MdparseTools.P2P.renderSize(info.p2pUp-p2p.p2pUp);var downSpeed=MdparseTools.P2P.renderSize(info.p2pDown-p2p.p2pDown);$('#divP2P').html('P2P加速中 观看人数越多速度越快 节点:'+peers+'个 ↑:'+upSpeed+' ↓:'+downSpeed)}p2p=peer5.getStats()},1000)},renderSize:function(value){if(null==value||value==''){return"0Bytes"}var unitArr=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB");var index=0;var srcsize=parseFloat(value);var size=MdparseTools.P2P.roundFun(srcsize/Math.pow(1024,(index=Math.floor(Math.log(srcsize)/Math.log(1024)))),2);return size+unitArr[index]},roundFun:function(numberRound,roundDigit){if(numberRound>=0){var tempNumber=parseInt((numberRound*Math.pow(10,roundDigit)+0.5))/Math.pow(10,roundDigit);return tempNumber}else{numberRound1=-numberRound;var tempNumber=parseInt((numberRound1*Math.pow(10,roundDigit)+0.5))/Math.pow(10,roundDigit);return-tempNumber}}},Video:{H5Play:function(videoPlay){document.getElementById(MdparseTools.Status.videoContaierId).innerHTML='<video src="'+vid+'" controls="controls" autoplay="autoplay" width="100%" height="100%" poster="image/loading_wap.gif"></video>'}},GetScript:function(jsUrl,callback){var jQueryJS=document.createElement("script");jQueryJS.type="text/javascript";jQueryJS.src=jsUrl;if(jQueryJS.addEventListener){jQueryJS.addEventListener('load',function(){callback()},false)}else if(jQueryJS.attachEvent){jQueryJS.attachEvent('onreadystatechange',function(){var target=window.event.srcElement;if(target.readyState=='loaded'){callback()}})}document.getElementsByTagName("head")[0].appendChild(jQueryJS)},GetDate:function(){var myDate=new Date();return myDate.getFullYear().toString()+myDate.getMonth().toString()+myDate.getDate().toString()}};MdparseTools.Init();